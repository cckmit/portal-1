<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:fileuploader='urn:import:ru.protei.portal.ui.common.client.widget.uploader'
             xmlns:attachment='urn:import:ru.protei.portal.ui.common.client.widget.attachment.list'
             xmlns:timefield='urn:import:ru.protei.portal.ui.common.client.widget.timefield'
             xmlns:timeElapsed='urn:import:ru.protei.portal.ui.common.client.view.selector'
             xmlns:autoresizetextarea="urn:import:ru.protei.portal.ui.common.client.widget.autoresizetextarea">

    <ui:with field="lang" type="ru.protei.portal.ui.common.client.lang.Lang"/>

    <g:HTMLPanel ui:field="root" styleName="panel">
        <div class="body">
            <g:FlowPanel ui:field="commentsContainer" tag="ul" styleName="chats">
                <g:HTMLPanel tag="li" ui:field="newMessage" styleName="left new-message">

                    <div ui:field="messageBlock">
                        <div class="image">
                            <img alt="" src="./images/user-icon-m.svg" ui:field="icon"/>
                        </div>

                        <div class="message">
                            <autoresizetextarea:AutoResizeTextArea
                                    ui:field="comment"
                                    styleName="input-field form-group message-input resize-vertical"
                                    enablePasteImage="true"
                                    minRows="5" maxRows="20"/>

                            <div class="attachments">
                                <g:Button styleName="btn btn-success" ui:field="send" text="{lang.commentSendMessage}"/>

                                <fileuploader:AttachmentUploader ui:field="fileUploader" styleName="inline-block">
                                    <div class="btn btn-white attach-add-btn">
                                        <ui:text from='{lang.addAttachmentBtn}'/>
                                        <i class="ion-plus"/>
                                        <i class="icon-verifiable"/>
                                    </div>
                                </fileuploader:AttachmentUploader>

                                <div class="inline-block ">
                                    <timefield:TimeTextBox ui:field="timeElapsed" styleName="input-field inline-block time-elapsed" notNull="false"/>
                                    <timeElapsed:ElapsedTimeTypeSelector ui:field="timeElapsedType" styleName="inline-block" />
                                </div>
                                <attachment:AttachmentList ui:field="attachmentList" simpleMode="true" styleName="inline-block attachment-list-simple"/>
                            </div>

                            <div class="hints">
                                <span class="icon fa fa-info-circle"/>
                                <span class="hint"><ui:text from='{lang.sendOnCtrlEnter}'/></span>
                                <span class="hint hide" ui:field="textMarkupLabel"/>
                            </div>

                            <div ui:field="commentPreviewContainer" class="message-preview hide">
                                <div class="message-preview-label"><ui:text from='{lang.commentPreview}'/></div>
                                <div ui:field="commentPreview" class="message-preview-content markdown"/>
                            </div>

                        </div>
                    </div>
                </g:HTMLPanel>
            </g:FlowPanel>
        </div>
    </g:HTMLPanel>
</ui:UiBinder>