<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:fileuploader='urn:import:ru.protei.portal.ui.common.client.widget.uploader'
             xmlns:timefield='urn:import:ru.protei.portal.ui.common.client.widget.timefield'
             xmlns:attachment='urn:import:ru.protei.portal.ui.common.client.widget.attachment.list'
             xmlns:casemeta="urn:import:ru.protei.portal.ui.common.client.widget.casemeta"
>
    <ui:with field="lang" type="ru.protei.portal.ui.common.client.lang.Lang" />
    <g:HTMLPanel styleName="panel footer-fixable">
        <div class="body">
                <g:HTMLPanel ui:field="preview" styleName="preview preview-wrapper grid">
                    <div class="col-xs-12">
                        <i ui:field="privateIssue" class="fa fa-lg fa-unlock-alt pull-left"/>
                        <g:Anchor ui:field="fullScreen" styleName="fa fa-lg fa-external-link pull-right" href="#"/>
                    </div>

                    <fieldset class="header">
                        <legend><lable ui:field="header"/></legend>
                        <casemeta:CaseMetaView ui:field="caseMetaView" styleName="form-group col-xs-12" enabled="false" showLabel="false"/>

                        <div class="col-xs-6">
                            <label class="col-xs-5 col-md-5"><ui:text from="{lang.issueCreationDate}"/></label>
                            <span class="col-xs-7 col-md-7" ui:field="creationDate"></span>
                        </div>
                        <div class="col-xs-6">
                            <label class="col-xs-5 col-md-5"><ui:text from="{lang.issueCriticality}"/></label>
                            <span class="col-xs-7 col-md-7">
                                <i ui:field="iconCriticality"></i>
                                <span ui:field="criticality"></span>
                            </span>
                        </div>
                        <div class="col-xs-6">
                            <label class="col-xs-5 col-md-5"><ui:text from="{lang.issueProduct}"/></label>
                            <span class="col-xs-7 col-md-7" ui:field="product"></span>
                        </div>
                        <div class="col-xs-6">
                            <label class="col-xs-5 col-md-5"><ui:text from="{lang.issueState}"/></label>
                            <span class="col-xs-7 col-md-7">
                                <div ui:field="state"></div>
                            </span>
                        </div>
                        <g:HTMLPanel ui:field="timeElapsedContainer" styleName="col-xs-6">
                            <label class="col-xs-5 col-md-5">
                                <ui:text from="{lang.timeElapsed}"/>
                            </label>
                            <timefield:TimeLabel ui:field="timeElapsed" styleName="col-xs-5 col-md-5"/>
                        </g:HTMLPanel>
                    </fieldset>
                    <fieldset class="header">
                        <legend><ui:text from="{lang.issueContactHeader}"/></legend>
                        <div class="col-xs-6">
                            <label class="col-xs-12 col-md-12" ui:field="company"></label>
                            <span class="col-xs-12 col-md-12" ui:field="contact"></span>
                        </div>
                        <div class="col-xs-6">
                            <label class="col-xs-12 col-md-12" ui:field="ourCompany"></label>
                            <span class="col-xs-12 col-md-12" ui:field="manager"></span>
                        </div>
                    </fieldset>

                    <fieldset class="header">
                        <legend><ui:text from="{lang.companySubscription}"/></legend>
                        <div class="col-xs-12" ui:field="subscriptions"></div>
                    </fieldset>

                    <fieldset class="header">
                        <legend><ui:text from="{lang.issueNameHeader}"/></legend>
                        <div class="col-xs-12">
                            <span class="col-xs-12 col-md-12" ui:field="name"></span>
                        </div>
                    </fieldset>

                    <fieldset class="header">
                        <legend><ui:text from="{lang.issueInfoHeader}"/></legend>
                        <div class="col-xs-12">
                            <span class="col-xs-12 col-md-12 pre-formatted-info markdown" ui:field="info"></span>
                        </div>
                    </fieldset>
                    <fieldset class="header">
                        <legend><ui:text from="{lang.issueAttachments}"/></legend>
                        <div class="col-xs-12 col-md-12">
                            <div class="panel">
                                <div class="body">
                                    <div class="attach attach-add">
                                        <fileuploader:AttachmentUploader ui:field="fileUploader">
                                            <div class="attach-add-circle">
                                                <i class="ion-plus"/>
                                                <i class="icon-verifiable"/>
                                            </div>
                                        </fileuploader:AttachmentUploader>
                                    </div>
                                    <attachment:AttachmentList ui:field="attachmentContainer" />
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <legend><ui:text from="{lang.comments}"/></legend>
                    <g:HTMLPanel ui:field="commentsContainer" styleName="col-xs-12 col-md-12"/>
            </g:HTMLPanel>
        </div>
        <div class="footer">
            <g:Button ui:field="backButton" styleName="btn btn-success" text="{lang.goToIssues}"/>
        </div>
    </g:HTMLPanel>
</ui:UiBinder>