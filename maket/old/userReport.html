<!DOCTYPE html>
<html>
  <head>
    <title>Система управления персоналом</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="style.css"/>
    <!--link(rel='stylesheet', href='leadership.css')-->
    <script src="web/scripts/jquery-2.1.4.min.js"></script>
    <script>
      /** my lib **/
      function replaceClass(elem, from, to){
          elem.removeClass(from).addClass(to);
          return elem;
      }
      
      function log(e){
          console.log(e)
      }
      
      
    </script>
    <!--+chartJs-->
    <script>
      (function($) {
          $.eventReport = function(selector, root) {
              var s = [];
              $(selector || '*', root).addBack().each(function() {
                  // the following line is the only change
                  var e = $._data(this, 'events');
                  if(!e) return;
                  s.push(this.tagName);
                  if(this.id) s.push('#', this.id);
                  if(this.className) s.push('.', this.className.replace(/ +/g, '.'));
                  for(var p in e) {
                      var r = e[p],
                              h = r.length - r.delegateCount;
                      if(h)
                          s.push('\n', h, ' ', p, ' handler', h > 1 ? 's' : '');
                      if(r.delegateCount) {
                          for(var q = 0; q < r.length; q++)
                              if(r[q].selector) s.push('\n', p, ' for ', r[q].selector);
                      }
                  }
                  s.push('\n\n');
              });
              return s.join('');
          }
          $.fn.eventReport = function(selector) {
              return $.eventReport(selector, this);
          }
      })(jQuery);
      
      
    </script>
    <script src="web/scripts/highchart/highcharts.js"></script>
    <script src="web/scripts/highchart/exporting.js"></script>
  </head>
  <body>
    <div class="global">
      <div class="header_global">
        <div class="leftBlock">
          <div class="company"><span onclick="alert($.eventReport())" class="logo"></span><span class="name">PROTEI</span></div>
          <div id="hideLeftBlock" class="hideBar_button"></div>
        </div>
        <div class="rightBlock">
          <div class="topicTitle employeesReport">
            <div class="title">Управление по сотрудникам</div>
          </div>
          <div class="currentTask"><span class="case">Freq<span class="id">7823289</span></span>
            <div class="timer"><span class="time"><span class="hours">01</span><span class="timeDelimiter">:</span><span class="minutes">12</span></span><span id="stopCurrentTask" class="stop_button"></span></div>
          </div>
          <div id="runTimeFixer" class="completeWorkSession"><span class="icon-time"></span>Таймфиксер</div>
          <div class="rightSide">
            <div class="icons">
              <!--#userProfile.userProfilespan.icon-user
              -->
              <div id="globalNotifications" class="notifications_button active"></div>
              <div id="globalSettings" class="settings_button"></div>
              <div id="globalHelper" class="helper_button"></div>
              <div id="globalExit" class="exit_button"></div>
            </div>
          </div>
          <div class="rightSide searchBlock">
            <form class="globalSearch">
              <input id="globalSearch" placeholder="Поиск по объектам" type="text" autocomplete="off" class="searchInput"/>
              <div id="p4" contenteditable="true" class="searchInput"><span>11</span><span>22<span>33</span></span></div>
              <div class="buttonsBlock">
                <label class="search_button">
                  <input type="submit" value="Поиск"/>
                </label>
                <!--label.icon-resetButton
                input(type="reset" value="Сброс")
                
                -->
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="body_global">
        <div class="leftBlock">
          <div class="noScrolling">
            <div class="scrolling">
              <div class="mainButtons"></div>
              <div class="menuList">
                <div class="menu">
                  <div class="title">Рабочее место</div>
                  <div class="list">
                    <div class="item"><span class="icon-plan"></span>Мой план</div>
                    <div class="item"><span class="icon-created"></span>Инспектор</div>
                    <div class="item"><span class="icon-activity"></span>Моя активность</div>
                    <div class="item"><span class="icon-subscription"></span>Мои подписки</div>
                    <div class="item"><span class="icon-favorites"></span>Мои избранные</div>
                  </div>
                </div>
                <div class="menu">
                  <div class="title">Компания</div>
                  <div class="list">
                    <div class="item"><span class="icon-employees"></span>Сотрудники</div>
                    <div class="item"><span class="icon-me"></span>Мой паспорт</div>
                  </div>
                </div>
                <div class="menu">
                  <div class="title">
                    <!--span.icon-savedQueries-->Объекты системы
                  </div>
                  <div style="max-height: 500px" class="list active">
                    <!--.slideWrapper-->
                    <div class="item"><span class="icon-component"></span>Компоненты</div>
                    <div class="item"><span class="icon-product"></span>Продукты</div>
                    <div class="item"><span class="icon-case"></span>Задачи</div>
                    <div class="item"><span class="icon-order"></span>Группы задач</div>
                    <div class="item"><span class="icon-order"></span>Заказы</div>
                    <div class="item"><span class="icon-project"></span>Проекты</div>
                    <div class="item"><span class="icon-organization"></span>Организации</div>
                  </div>
                </div>
                <div class="menu">
                  <div class="title">
                    <!--span.icon-savedQueries-->Управление и отчёты
                  </div>
                  <div class="list">
                    <!--.slideWrapper-->
                    <div class="item"><span class="icon-employees"></span>Сотрудники</div>
                    <div class="item"><span class="icon-component"></span>Компоненты</div>
                    <div class="item"><span class="icon-product"></span>Продукты</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <script>
            $('#hideLeftBlock').click(function(){
                $('.header_global >.leftBlock,.body_global >.leftBlock').addClass('inactive');
                $('.body_global >.leftBlock').click(function func(){
                    $('.header_global >.leftBlock,.body_global >.leftBlock').removeClass('inactive');
                    $('.body_global >.leftBlock').off()
                })
            })
            
          </script>
        </div>
        <div class="rightBlock">
          <div class="controlButtons">
            <!--.buttons_group
            .button Отсутствующие
            .button День рождения
            .button Избранные
            -->
            <div class="buttons_group">
              <div id="switchTwoBlocks" class="button empty"><span class="icon-twoHorizontalBlocks"></span></div>
            </div>
            <div class="buttons_group">
              <div class="regulator">Сортировать по
                <div class="button selected">Фамилия</div>
                <div class="button empty active switcher"><span class="icon-down"></span></div>
              </div>
              <!--.regulator Количество записей.button.selected 20
              -->
              <!--.buttons_group
              .button.empty
                  span.icon-left
              .button.empty
                  span.icon-right
              -->
            </div>
            <div class="rightSide">
              <div class="regulator">
                <div class="radioButton active"></div>Сотрудники
              </div>
              <div class="regulator">
                <div class="radioButton"></div>Задачи
              </div>
            </div>
          </div>
          <div class="absoluteBlock">
            <div class="block-1">
              <div class="userListsBlock list_showing reportBlock">
                <div class="userList">
                  <div class="user">
                    <div class="wrapper">
                      <div class="ava user120">
                        <!--img(src="http://portal/ok/utils/get_image.jsp?person_id=121")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Инженер-программист</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="workNow">Сейчас работает</span><span class="lastActivity"><span class="icon-activity"></span>10м назад</span><span class="plan"><span class="icon-plan"></span><span class="count">4</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                  <div class="user">
                    <div class="wrapper inactive">
                      <div class="ava user121">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Название должности</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="lastActivity"><span class="icon-activity"></span>10м назад</span><span class="plan"><span class="icon-plan"></span><span class="count">5</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                  <div class="user">
                    <div class="wrapper">
                      <div class="ava user122">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Название должности</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="workNow">Сейчас работает</span><span class="lastActivity"><span class="icon-activity"></span>1д назад</span><span class="plan"><span class="icon-plan"></span><span class="count">1</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                  <div class="user">
                    <div class="wrapper">
                      <div class="ava user123">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Название должности</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="lastActivity"><span class="icon-activity"></span>10м назад</span><span class="plan"><span class="icon-plan"></span><span class="count">0</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                  <div class="user">
                    <div class="wrapper">
                      <div class="ava user124">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Название должности</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="workNow">Сейчас работает</span><span class="lastActivity"><span class="icon-activity"></span>Только что</span><span class="plan"><span class="icon-plan"></span><span class="count">2</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox active"></div>
                    </div>
                  </div>
                  <div class="user">
                    <div class="wrapper active">
                      <div class="ava user125">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Технический директор</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="workNow">Сейчас работает</span><span class="lastActivity"><span class="icon-activity"></span>1м назад</span><span class="plan"><span class="icon-plan"></span><span class="count">14</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                </div>
                <div class="block">
                  <div class="userPassport">
                    <div class="header">
                      <!--.myPassport-->
                      <!--.name Акопян Роберт Григорьевич
                      //span Сейчас работает над
                          span Byg #32838
                      -->
                      <div class="button blueC">Паспорт</div>
                      <div class="tabs">
                        <div class="tab active">План</div>
                        <div class="tab">Активность</div>
                      </div>
                    </div>
                    <div class="mainInfo">
                      <!--.sectionTitle Информация-->
                      <div class="buttons">
                        <div class="buttons_group">
                          <!--.buttons_group(style="vertical-align: baseline")
                          #switchTwoBlocks.button.empty
                              span.icon-twoBlocks
                          -->
                          <div class="button grayC active">Активные<span class="number">14</span></div>
                          <div class="button grayC inactive">Неактивные<span class="number">0</span></div>
                          <div class="button grayC">Закрытые</div>
                          <div class="button grayC">Неподтверждённые<span class="number">5</span></div>
                          <div class="regulator">
                            <div class="checkbox active"></div>Показать незаверенные
                          </div>
                        </div>
                        <div class="rightSide">
                          <div id="timeActivity" class="timeActivity_button">Активность по времени<span class="icon-down"></span></div>
                        </div>
                      </div>
                      <div id="timeActivityDiagram" class="diagramBlock">
                        <!--.buttons_group
                        //.buttons_group(style="vertical-align: baseline")
                            #switchTwoBlocks.button.empty
                                span.icon-twoBlocks
                        //.regulator
                            //|Актиность за
                        
                        
                        -->
                        <div class="button selected grayC">Сегодня</div>
                        <div class="buttons_group">
                          <div class="button empty grayC active"><span class="icon-products"></span></div>
                          <div class="button empty grayC"><span class="icon-components"></span></div>
                          <div class="button empty grayC"><span class="icon-cases"></span></div>
                        </div>
                        <div id="container" style="width: 236px; min-height: 236px;  margin: 0 auto;" class="diagram">
                          <script>
                            $(function () {
                                function generateTimeTooltip() {
                                    var elem = (''+this.y).split('.');
                                    var hours =  elem[0]+'';
                                    var minutes =  elem[1]+'';
                            
                                    hours = hours.length==1?'0'+hours:hours;
                                    minutes = minutes.length==1?minutes + '0':minutes;
                            
                                    return '<b>' + hours + ':' + minutes + '</b>';
                                }
                            
                                $(document).ready(function () {
                                    $('#container').highcharts({
                                        chart: {
                                            plotBackgroundColor: null,
                                            plotBorderWidth: null,
                                            plotShadow: false,
                                            backgroundColor: 'transparent',
                                            type: 'pie'
                                        },
                                        title: {
                                            text: false
                                        },
                                        exporting: {
                                            enabled: false
                                        },
                                        tooltip: {
                                            backgroundColor: 'white',
                                            borderWidth: 0,
                                            borderRadius: 0,
                                            useHTML: true,
                                            headerFormat: '<span style="font-size: 13px; margin-right: 7px">{point.key}:</span>',
                                            pointFormatter: generateTimeTooltip
                                        },
                                        credits: {
                                            enabled: false
                                        },
                                        plotOptions: {
                                            pie: {
                                                allowPointSelect: true,
                                                cursor: 'pointer',
                                                dataLabels: {
                                                    enabled: false
                                                },
                                                //showInLegend: true
                                            }
                                        },
                                        series: [{
                                            colorByPoint: true,
                                            states: {
                                                hover: {
                                                    halo: false
                                                }
                                            },
                            
                                            data: [
                                            {
                                                name: 'ProductName_A',
                                                color: '#0B486B',
                                                y: 2.38
                                            },
                                            {
                                                name: 'ProductName_B',
                                                color: '#3B8686',
                                                y: 1.03
                                            }, {
                                                name: 'ProductName_C',
                                                color: '#79BD9A',
                                                y: 0.54
                                            },  {
                                                name: 'ProductName_D',
                                                color: '#A8DBA8',
                                                y: 0.50
                                            }, {
                                                name: 'Остальные',
                                                color: '#CFF09E',
                                                y: 1.04
                                            }]
                                        }]
                                    });
                                });
                            });
                            
                          </script>
                          <!--canvas.chartjs-pie-->
                          <!--.chartjs-tooltip-->
                          <!--script.-->
                          <!--    var data = [-->
                          <!--        {-->
                          <!--            value: 12.3,-->
                          <!--            //color: "#8490A0",-->
                          <!--            color: "#6c96d2",-->
                          <!--            highlight: "#5481c1",-->
                          <!--            label: "ProductNameA"-->
                          <!--        },-->
                          <!--        {-->
                          <!--            value: 8.15,-->
                          <!--            //color: "#919BA9",-->
                          <!--            color: "#85AADE",-->
                          <!--            highlight: "#5481c1",-->
                          <!--            label: "ProductNameB"-->
                          <!--        },-->
                          <!--        {-->
                          <!--            value: 5.0,-->
                          <!--            //color: "#b2b9c2",-->
                          <!--            color: "#A8C1E5",-->
                          <!--            highlight: "#5481c1",-->
                          <!--            label: "ProductNameC"-->
                          <!--        },-->
                          <!--        {-->
                          <!--            value: 3.12,-->
                          <!--            //color: "#c7ccd3",-->
                          <!--            color: "#CCDBEF",-->
                          <!--            highlight: "#5481c1",-->
                          <!--            label: "ProductNameE"-->
                          <!--        },-->
                          <!--        {-->
                          <!--            value: 7.5,-->
                          <!--            color: "#dfe1e5",-->
                          <!--            highlight: "#5481c1",-->
                          <!--            label: "Остальные"-->
                          <!--        }-->
                          <!--    ];-->
                          <!--    var tooltip = $('script').last().prev('.chartjs-tooltip');-->
                          <!--    options.customTooltips = generateChartjsTooltip.bind(null, tooltip);-->
                          <!--    var ctx = tooltip.prev('.chartjs-pie')[0].getContext("2d");-->
                          <!--    new Chart(ctx).Pie(data, options);-->
                          
                          
                        </div>
                      </div>
                      <div class="caseListsBlock">
                        <table class="caseList">
                          <tr class="headers">
                            <td colspan="2" class="column-1">Тип и номер задачи</td>
                            <td class="column-2">Название</td>
                            <td class="column-3">Исполнителей</td>
                            <td class="column-4">Затрачено</td>
                            <td class="column-5">Ближайший срок</td>
                            <td class="column-6">Дата создания</td>
                            <td class="column-7">Заказ</td>
                            <td class="column-8">Статутс</td>
                          </tr>
                          <tr class="case">
                            <td class="column-1-1">
                              <div class="number none"></div>
                              <div class="caseType">Bug</div>
                            </td>
                            <td class="column-1-2">
                              <div class="caseId">32158</div>
                              <div class="caseCriticality critical"></div>
                            </td>
                            <td class="column-2">
                              <div class="productTag">Portal Protei</div>
                              <div class="description">Здесь будет описание описание описание описание описание описание описание</div>
                              <!--.rightSide
                              .menuBlock
                                  span.icon-menu
                              -->
                            </td>
                            <td class="column-3">
                              <div class="executorsNumber">1</div>
                            </td>
                            <td class="column-4">
                              <div class="timeSpent">14 : 00</div>
                            </td>
                            <td class="column-5">
                              <div class="deadline">29.01.18</div>
                            </td>
                            <td class="column-6">
                              <div class="timeCreation">12.09.12 12:30</div>
                            </td>
                            <td class="column-7">
                              <div class="orderInfo">#1234567 (4)</div>
                            </td>
                            <td class="column-8">
                              <div class="status">status</div>
                              <div class="favorite"></div>
                            </td>
                          </tr>
                          <tr class="case">
                            <td class="column-1-1">
                              <div class="number none"></div>
                              <div class="caseType">Bug</div>
                            </td>
                            <td class="column-1-2">
                              <div class="caseId">32158</div>
                              <div class="caseCriticality critical"></div>
                            </td>
                            <td class="column-2">
                              <div class="productTag">Portal Protei</div>
                              <div class="description">Здесь будет описание описание описание описание описание описание описание</div>
                              <!--.rightSide
                              .menuBlock
                                  span.icon-menu
                              -->
                            </td>
                            <td class="column-3">
                              <div class="executorsNumber">1</div>
                            </td>
                            <td class="column-4">
                              <div class="timeSpent">14 : 00</div>
                            </td>
                            <td class="column-5">
                              <div class="deadline">29.01.18</div>
                            </td>
                            <td class="column-6">
                              <div class="timeCreation">12.09.12 12:30</div>
                            </td>
                            <td class="column-7">
                              <div class="orderInfo">#1234567 (4)</div>
                            </td>
                            <td class="column-8">
                              <div class="status">status</div>
                              <div class="favorite"></div>
                            </td>
                          </tr>
                          <tr class="between">
                            <td colspan="9">...</td>
                          </tr>
                          <tr class="case active">
                            <td class="column-1-1">
                              <div class="number">7</div>
                              <!--.timerButtonspan.icon-right
                              -->
                              <div class="caseType">Bug</div>
                            </td>
                            <td class="column-1-2">
                              <div class="caseId">32158</div>
                              <div class="caseCriticality critical"></div>
                            </td>
                            <td class="column-2">
                              <div class="productTag">Portal Protei</div>
                              <div class="description">Здесь будет описание описание описание описание описание описание описание</div>
                              <div class="menuBlock"><span class="icon-menu"></span></div>
                            </td>
                            <td class="column-3">
                              <div class="executorsNumber">1</div>
                            </td>
                            <td class="column-4">
                              <div class="timeSpent">14 : 00</div>
                            </td>
                            <td class="column-5">
                              <div class="deadline last">29.01.18</div>
                            </td>
                            <td class="column-6">
                              <div class="timeCreation">12.09.12 12:30</div>
                            </td>
                            <td class="column-7">
                              <div class="orderInfo">#1234567 (4)</div>
                            </td>
                            <td class="column-8">
                              <div class="status">status</div>
                              <div class="favorite"></div>
                            </td>
                          </tr>
                        </table>
                        <div class="footer">
                          <div class="btn">Показать ещё 10
                            <!--span Показать все-->
                          </div>
                          <div class="btn">Показать всё</div>
                          <!--.btn Перейти в план-->
                          
                          
                        </div>
                      </div>
                      <script>
                        //$('#timeActivity').hover(
                        //        function () {
                        //            $('#timeActivityDiagram').show();
                        //        },
                        //        function () {
                        //            $('#timeActivityDiagram').hide();
                        //        }
                        //);
                        
                        $('#timeActivity').mouseover(function () {
                        
                            var timeoutHiddenFlag;
                            $('#timeActivityDiagram').mouseout(function func(event) {
                                clearTimeout(timeoutHiddenFlag);
                                var elem = $(event.target)
                                if (elem.has($(event.relatedTarget)).length != 0) return;
                        
                                timeoutHiddenFlag = setTimeout(function(){
                                    elem.css('display', '')
                                    elem.off('mouseout', func);
                                }, 200)
                            }).show();
                        })
                        
                      </script>
                    </div>
                  </div>
                </div>
                <div class="userList">
                  <div class="user">
                    <div class="wrapper">
                      <div class="ava user129">
                        <!--img(src="web/images/icons/white/none/two2.png")-->
                      </div>
                      <div class="wrapper">
                        <div class="position">Название должности</div>
                        <div class="name">Фамилия Имя Отчество</div>
                        <div class="workActivity"><span class="lastActivity"><span class="icon-activity"></span>1д 2м назад</span><span class="plan"><span class="icon-plan"></span><span class="count">2</span></span></div>
                      </div>
                      <div class="buttons"><span class="icon-menu"></span></div>
                      <div class="favorite"></div>
                      <div class="checkbox"></div>
                    </div>
                  </div>
                </div>
                <script>
                  $('.case .number').mousedown(function(event){
                      var elem = $(event.currentTarget).parent().parent();
                      var offset = elem.offset();
                      var width = elem.width();
                  
                      function moveCase(event){
                          elem.css('left', event.pageX).css('top', event.pageY);
                      }
                  
                      elem.css('position','absolute').css('width', width).css('left', offset.left).css('top', offset.top);
                      elem.after('<div style="height: 53px"></div>');
                  
                      $(document.body).on('mousemove', moveCase).on('mouseup', function func(event){
                          $(event.currentTarget).off('mousemove', moveCase).off('mouseup', func);
                      });
                  
                      return false;
                  });
                  
                  
                  
                </script>
              </div>
            </div>
            <div class="resizer"></div>
            <div class="block-2 empty">
              <div class="t_wrapper">
                <div class="tc_wrapper">Выберите группу на панели управления для этого окна или введите запрос в поле поиска</div>
              </div>
              <!--.caseListsBlock-->
              <!---->
              <!--    .block.column-1-->
              <!---->
              <!--        .wrapper-->
              <!---->
              <!--            table.caseList-->
              <!---->
              <!--                tr.headers-->
              <!--                    td.column-1(colspan="2") Тип и номер задачи-->
              <!--                    td.column-2 Название-->
              <!--                    td.column-3 Исполнителей-->
              <!--                    td.column-4 Затрачено-->
              <!--                    td.column-5 Ближайший срок-->
              <!--                    td.column-6 Дата создания-->
              <!--                    td.column-7 Заказ-->
              <!--                    td.column-8 Статутс-->
              <!---->
              <!---->
              <!--                tr.case-->
              <!--                    td.column-1-1-->
              <!--                        .mover_button-->
              <!--                        .caseType Bug-->
              <!--                    td.column-1-2-->
              <!--                        .caseId 32158-->
              <!--                        .caseCriticality.critical-->
              <!--                    td.column-2-->
              <!--                        .productTag Portal Protei-->
              <!--                        .description Здесь будет описание описание описание описание описание описание описание описание описание описание описание описание описание описание описание описание описание-->
              <!--                        .right_block-->
              <!--                            span.icon-menu-->
              <!--                    td.column-3-->
              <!--                        .employee Фамилия И.О.-->
              <!--                    td.column-4-->
              <!--                        .timeSpent 14 : 00-->
              <!--                    td.column-5-->
              <!--                        .deadline 29.01.18-->
              <!--                    td.column-6-->
              <!--                        .timeCreation 12.09.12 12:30-->
              <!--                    td.column-7-->
              <!--                        .orderInfo #1234567 (4)-->
              <!--                    td.column-8-->
              <!--                        .status status-->
              <!--                        .favorite-->
              <!---->
              <!--                -var type = ['Bug', 'Freq', 'Task', 'Task', 'Treq', 'Freq', 'Task', 'Treq', 'Task', 'Task', 'Task', 'Bug']-->
              <!--                -var product = [1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1]-->
              <!--                -var criticality = [1, 2, 0, 0, 3, 0, 0, 3, 0, 0, 1]-->
              <!--                -var markers = [0, 0, 0, 1, 0, 0, 2, 3, 0, 0, 0]-->
              <!--                -var deadline = [0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0]-->
              <!--                -var executors = [1, 1, 2, 1, 2, 3, 1, 1, 1, 1, 1]-->
              <!--                -for(var b=1; b<8; b++)-->
              <!--                    tr.case-->
              <!--                        td.column-1-1-->
              <!--                            .mover_button-->
              <!--                            .caseType= type[b-1]-->
              <!--                        td.column-1-2-->
              <!--                            .caseId 32158-->
              <!--                            if(criticality[b]==1)-->
              <!--                                .caseCriticality.critical-->
              <!--                            else if(criticality[b]==2)-->
              <!--                                .caseCriticality.important-->
              <!--                            else if(criticality[b]==3)-->
              <!--                                .caseCriticality.cosmetic-->
              <!--                            else-->
              <!--                                .caseCriticality-->
              <!--                        td.column-2-->
              <!--                            if(product[b])-->
              <!--                                .productTag Portal Protei-->
              <!--                            else-->
              <!--                                span(style="margin-right: 1px")-->
              <!--                            .description Здесь будет описание описание описание описание описание описание описание-->
              <!--                            .right_block-->
              <!--                                span.icon-menu-->
              <!--                        td.column-3-->
              <!--                            if(executors[b]>1)-->
              <!--                                .executorsNumber.several= executors[b]-->
              <!--                            else-->
              <!--                                .employee Фамилия И.О.-->
              <!--                        td.column-4-->
              <!--                            .timeSpent 14 : 00-->
              <!--                        td.column-5-->
              <!--                            if(deadline[b])-->
              <!--                                .deadline.last 29.01.18-->
              <!--                            else-->
              <!--                                .deadline 29.01.18-->
              <!--                        td.column-6-->
              <!--                            .timeCreation 12.09.12 12:30-->
              <!--                        td.column-7-->
              <!--                            .orderInfo #1234567 (4)-->
              <!--                        td.column-8-->
              <!--                            .status status-->
              <!--                            .favorite-->
              <!---->
              <!---->
              <!---->
              <!---->
              <!--        script.-->
              <!--            $('.case .number').mousedown(function(event){-->
              <!--                var elem = $(event.currentTarget).parent().parent();-->
              <!--                var offset = elem.offset();-->
              <!--                var width = elem.width();-->
              <!---->
              <!--                function moveCase(event){-->
              <!--                    elem.css('left', event.pageX).css('top', event.pageY);-->
              <!--                }-->
              <!---->
              <!--                elem.css('position','absolute').css('width', width).css('left', offset.left).css('top', offset.top);-->
              <!--                elem.after('<div style="height: 53px"></div>');-->
              <!---->
              <!--                $(document.body).on('mousemove', moveCase).on('mouseup', function func(event){-->
              <!--                    $(event.currentTarget).off('mousemove', moveCase).off('mouseup', func);-->
              <!--                });-->
              <!---->
              <!--                return false;-->
              <!--            });-->
              
            </div>
          </div>
        </div>
        <script>
          //var block1 = $('.block-1');
          //var block2 = $('.block-2');
          
          
          //function switchClass(elem, what, on){
          //    elem.toggleClass(what)
          //    elem.toggleClass(on)
          //}
          
          //$('.delete_button').click(function(){
          //    if(block1.hasClass('shortened')){
          //        switchClass(block2, 'low', 'speed');
          //        switchClass(block1, 'speed', 'low');
          //        block1.removeClass('shortened');
          //    }else{
          //        switchClass(block2, 'speed', 'low');
          //        switchClass(block1, 'low', 'speed');
          //        block1.find('.caseList').css('width', block1.width());
          //        block1.addClass('shortened');
          //    }
          
          //});
          
          $('#switchTwoBlocks').click(function(event){
              $(event.currentTarget).toggleClass('active')
              $('.absoluteBlock').toggleClass('active');
          });
          
          
          
          
          
          
        </script>
      </div>
      <div class="bottom_global">
        <table class="activeCase">
          <tr class="case">
            <td class="column-1-1">
              <div class="animationWrapper">
                <div class="timerButton active"><span class="icon-right"></span></div>
                <div class="timeSpent">
                  <div class="hours"></div>
                  <div class="timeDelimiter">:</div>
                  <div class="minutes"></div>
                </div>
              </div>
              <div class="caseType">Bug</div>
            </td>
            <td class="column-1-2">
              <div class="caseId">32158</div>
              <div class="caseCriticality critical"></div>
            </td>
            <td class="column-2"><span class="productTag">Portal Protei</span>
              <div class="description">Здесь будет описание описание описание описание описание описание описание</div>
              <div class="menuBlock"><span class="icon-menu"></span></div>
            </td>
          </tr>
        </table>
      </div>
      <script>
        $('.bottom_global').click(function(event){
            $(event.target).toggleClass('active');
        });
        function displayTimer(){
            var timeSpentElem = $('.timeSpent');
            var hoursElem = timeSpentElem.children('.hours')
            var minutesElem = timeSpentElem.children('.minutes')
            function changeTimeSpent(){
                var dateObj = new Date();
                hoursElem.text(dateObj.getHours());
                minutesElem.text(dateObj.getMinutes());
            }
            changeTimeSpent();
            setInterval(
                    function(){
                        changeTimeSpent();
                    }, 1000 * 60);
        }
        displayTimer();
        
      </script>
      <div class="notifications">
        <div class="head">
          <div class="button grayC active"><span class="icon-settings"></span>Типы уведомлений</div>
          <div class="rightSide">
            <div class="regulator">
              <form>
                <input type="text" placeholder="Поиск" class="inputField"/><span class="filters_button"></span>
                <label class="hideSource">
                  <input type="submit"/>
                  <div class="button empty sticky blueC"><span class="icon-search"></span></div>
                </label>
              </form>
            </div>
          </div>
        </div>
        <div class="propertiesBlock">
          <div class="property">
            <div class="marker status active"></div>Статус
          </div>
          <div class="property">
            <div class="marker comments active"></div>Комментарии
          </div>
          <div class="property">
            <div class="marker"></div>Приоритет
          </div>
          <div class="property">
            <div class="marker fixTime active"></div>Фиксация времени
          </div>
          <div class="property">
            <div class="marker"></div>Документы
          </div>
          <div class="property">
            <div class="marker files active"></div>Вложения
          </div>
          <div class="property">
            <div class="marker"></div>Связи
          </div>
          <div class="property">
            <div class="marker"></div>Сроки и этапы
          </div>
          <div class="property">
            <div class="marker executors active"></div>Исполнители
          </div>
        </div>
        <div class="body">
          <div class="date">
            <div class="dateTitle">Сегодня, 15.04.16</div>
            <div class="notes">
              <div class="note plan notRead">
                <div class="head">
                  <div class="time">12:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title"><span class="case mr">Bug<span class="id">13432</span></span>был добавлен в ваш план<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note comment notRead">
                <div class="head">
                  <div class="time">11:45</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Вам ответили на комментарий в<span class="case mlr">Bug<span class="id">13432</span></span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note comment notRead">
                <div class="head">
                  <div class="time">11:42</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Вам ответили на комментарий в<span class="case mlr">Bug<span class="id">13432</span></span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note late">
                <div class="head">
                  <div class="time">11:40</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title"><span class="employee mr">Фамилия И.О.</span>будет отсутствовать<span class="date mlr">16.04.16</span>по причине<span class="lateReason ml">Болезнь</span></span></div>
                </div>
              </div>
            </div>
          </div>
          <div class="date">
            <div class="dateTitle">Вчера, 14.04.16</div>
            <div class="notes">
              <div class="note plan">
                <div class="head">
                  <div class="time">12:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:45</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">213432</span></span>появился новый этап<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:42</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Task<span class="id">134324</span></span>сменился статус на<span class="status mlr">paused</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">11:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">10:12</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">134324</span></span>появился новый этап<span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">10:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Порядок задач в вашем плане был изменён<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note component">
                <div class="head">
                  <div class="time">08:15</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В компоненте<span class="component mlr">.Component_A</span>появилась новая версия<span class="version mlr">4.32</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">12:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:45</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">213432</span></span>появился новый этап<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:42</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Task<span class="id">134324</span></span>сменился статус на<span class="status mlr">paused</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">11:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">10:12</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">134324</span></span>появился новый этап<span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">10:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Порядок задач в вашем плане был изменён<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note component">
                <div class="head">
                  <div class="time">08:15</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В компоненте<span class="component mlr">.Component_A</span>появилась новая версия<span class="version mlr">4.32</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">12:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:45</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">213432</span></span>появился новый этап<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:42</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Task<span class="id">134324</span></span>сменился статус на<span class="status mlr">paused</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">11:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">10:12</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">134324</span></span>появился новый этап<span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">10:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Порядок задач в вашем плане был изменён<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note component">
                <div class="head">
                  <div class="time">08:15</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В компоненте<span class="component mlr">.Component_A</span>появилась новая версия<span class="version mlr">4.32</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">12:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:45</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">213432</span></span>появился новый этап<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">11:42</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Task<span class="id">134324</span></span>сменился статус на<span class="status mlr">paused</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">11:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">У вас новая неподтверждённая задача<span class="case ml">Freq<span class="id">13432</span></span></span></div>
                </div>
              </div>
              <div class="note case">
                <div class="head">
                  <div class="time">10:12</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В<span class="case mlr">Freq<span class="id">134324</span></span>появился новый этап<span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note plan">
                <div class="head">
                  <div class="time">10:00</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">Порядок задач в вашем плане был изменён<span class="by ml"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
              <div class="note component">
                <div class="head">
                  <div class="time">08:15</div>
                </div>
                <div class="content">
                  <div class="head"><span class="marker"></span><span class="title">В компоненте<span class="component mlr">.Component_A</span>появилась новая версия<span class="version mlr">4.32</span><span class="by"><span class="employee">Фамилия И.О.</span></span></span></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer">
          <div class="btn">ещё 10</div>
          <div class="btn">ещё 30</div>
          <div class="btn">ещё 1 день</div>
          <div class="btn">ещё 3 дня</div>
          <div class="btn">ещё неделя</div>
        </div>
      </div>
      <script>
        function fixPositioning(elem) {
            if ($(window).scrollTop() > 59) {
                if(elem.css("top") != 0) {
                    //elem.addClass("fix");
                    elem.css('top', 0);
                }
            } else {
                elem.css('top', 59 - $(window).scrollTop());
                //elem.removeClass("fix");
            }
        };
        
        
        
        !function() {
            var notificationsIconElem = $('#globalNotifications');
            var popupBlock = $('.notifications');
            var fixPopupBlock = fixPositioning.bind(null, popupBlock);
        
            notificationsIconElem.click(function () {
                //if(notificationsIconElem.hasClass('active')) return;
                notificationsIconElem.addClass('active');
        
                $(window).scroll(fixPopupBlock);
        
                popupBlock.css('display', 'block');
                setTimeout(function(){
                    popupBlock.addClass('active');
                    //popupBlock.addClass('noAnimation');
                    fixPopupBlock();
                    $(document.body).click(
                            function func(event){
                                var elem = event.target;
                                if(popupBlock.has(elem).length<=0){
                                    popupBlock.removeClass('active')
                                    setTimeout(function(){popupBlock.css('display', '')}, 200);
                                    notificationsIconElem.removeClass('active')
                                    $(document.body).off('click', func);
                                    $(window).off('scroll', fixPopupBlock);
                                }
                            }
                    );
                }, 200);
        
            });
        }();
      </script>
      <div id="taskTimeFixer" class="popup_backgroundBlock">
        <div class="wrapper">
          <div class="popupBlock">
            <div class="popup caseTimeFix">
              <div class="head">
                <div class="caseType"><span class="title">Фиксация времени</span><span class="content">Freq (Запрос на доработку)<span class="caseId">1234566</span></span></div>
                <div class="status"><span class="title">Статус</span><span class="content">active 13%</span></div>
              </div>
              <div class="body">
                <div class="caseReportElection">
                  <div class="dateStart">
                    <div class="header">Время начала</div>
                    <div class="content">Сегодня, 08:20</div>
                  </div>
                  <div class="dateStop">
                    <div class="header">Время фиксации</div>
                    <div class="content">Сегодня, 13:20</div>
                  </div>
                  <div class="timeSpent">
                    <div class="header">Время затрачено</div>
                    <div class="content"><span class="time">05 : 00</span><span class="icon-edit"></span></div>
                  </div>
                  <div class="timeLeft">
                    <div class="header">Время осталось</div>
                    <div class="content"><span class="time">13 : 00</span><span class="icon-edit"></span></div>
                  </div>
                  <div class="timeEstimate">
                    <div class="header">Оценка</div>
                    <div class="content"><span class="time">28 : 00</span><span class="icon-edit"></span></div>
                  </div>
                </div>
                <div class="commitComponents">
                  <div class="title">Укажите над какими компонентами вы работали:
                    <!--.rightSide-->
                    <!--    .button Редактировать компоненты-->
                    <!--    .button.greenColor Показать все-->
                  </div>
                  <div class="components">
                    <table class="wrapper">
                      <tr>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">LoooongComponentName_A</div>
                        </td>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">Component_B</div>
                        </td>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">Component_C</div>
                        </td>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">Component_D</div>
                        </td>
                      </tr>
                      <tr>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">Component_A</div>
                        </td>
                        <td class="component">
                          <div class="checkbox"></div>
                          <div class="componentName">Component_B</div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
                <div class="commentBlock">
                  <!--.icon-edit-->
                  <textarea type="text" placeholder="Комментарий" class="inputField"></textarea>
                </div>
              </div>
              <div class="footer">
                <div class="buttons">
                  <div class="leftSide">
                    <div id="replayTimer" class="button grayC">Продолжить</div>
                  </div>
                  <div class="button blueC">Сбросить</div>
                  <div class="button greenC">Зафиксировать</div>
                  <!--.button.sticky.additional и выбрать другую задачу-->
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        $('#stopCurrentTask').click(function(){
            var popupBlock = $('#taskTimeFixer');
            popupBlock.css('display', 'block');
            setTimeout(function(){
                popupBlock.addClass('active')
            }, 200);
        
            $('#replayTimer').click(
                function func(event){
                    popupBlock.removeClass('active')
                    setTimeout(function(){popupBlock.css('display', '')}, 200);
                    $(event.target).off('click', func);
                }
            );
        
        });
        
        
      </script>
      <div class="popupBlack">
        <div class="user"><span class="name">Бондаренко Артём Александрович</span>
          <div class="rightSide"><span class="icon-settings"></span></div>
        </div>
        <div class="buttons">
          <div class="button blueC">Мой пасспорт</div>
          <div class="button grayC">Мои отсутствия</div>
          <div class="button empty sticky grayC"><span class="icon-plus"></span></div>
          <div class="button grayC">Мои подписки</div>
          <div class="button grayC">Моя активность</div>
        </div>
        <div class="work">
          <div class="case">
            <div class="animationWrapper">
              <div class="timerButton active"><span class="icon-right"></span></div>
              <div class="timeSpent">
                <div class="hours">02</div>
                <div class="timeDelimiter">:</div>
                <div class="minutes">17</div>
              </div>
            </div>
            <div class="caseType">Bug</div>
            <div class="caseId">32158</div>
            <div class="caseCriticality critical"></div>
            <div class="description">Здесь будет описание описание описание описание описание описание описание</div>
          </div>
        </div>
        <div class="bottomButtons">
          <div class="button">Завершить рабочий период</div>
        </div>
      </div>
      <script>
        !function() {
            var userIconElem = $('#userProfile');
            var popupBlock = $('.popupBlack');
        
            userIconElem.click(function () {
                if(userIconElem.hasClass('active')) return;
                userIconElem.addClass('active');
                popupBlock.css('display', 'block');
                setTimeout(function(){
                    popupBlock.addClass('active');
                    $(document.body).click(
                        function func(event){
                            var elem = event.target;
                            if(popupBlock.has(elem).length<=0){
                                popupBlock.removeClass('active')
                                setTimeout(function(){popupBlock.css('display', '')}, 200);
                                userIconElem.removeClass('active')
                                $(document.body).off('click', func);
                            }
                        }
                    );
                }, 200);
        
            });
        }();
        
        
      </script>
    </div>
  </body>
</html>