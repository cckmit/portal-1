<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <property name="now" value="CURRENT_TIMESTAMP" dbms="mysql"/>


<!--//-->
    <changeSet id="create-tables" author="eliseev">
        <sqlFile path="create-tables.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <changeSet id="insert-data" author="eliseev">
        <sqlFile path="insert_data.sql" relativeToChangelogFile="true"/>
    </changeSet>

<!--    //-->

    <changeSet id="drop-person_absence" author="eliseev">
        <preConditions>
            <tableExists tableName="person_absence" />
        </preConditions>
        <dropTable tableName="person_absence" />
    </changeSet>

    <changeSet id="drop-absence-reason" author="eliseev">
        <preConditions>
            <tableExists tableName="absence_reason" />
        </preConditions>
        <dropTable tableName="absence_reason" />
    </changeSet>

    <changeSet id="drop-FK_ULOGIN_ASTATE" author="eliseev">
        <preConditions>
            <foreignKeyConstraintExists  foreignKeyTableName="user_login" foreignKeyName="FK_ULOGIN_ASTATE"/>
        </preConditions>
        <dropForeignKeyConstraint baseTableName="user_login" constraintName="FK_ULOGIN_ASTATE" />
    </changeSet>

    <changeSet id="drop-admin_state" author="eliseev">
        <preConditions>
            <tableExists tableName="admin_state" />
        </preConditions>
        <dropTable tableName="admin_state" />
    </changeSet>

    <changeSet id="drop-case_refs" author="eliseev">
        <preConditions>
            <tableExists tableName="case_refs" />
        </preConditions>
        <dropTable tableName="case_refs" />
    </changeSet>

    <changeSet id="drop-case_term" author="eliseev">
        <preConditions>
            <tableExists tableName="case_term" />
        </preConditions>
        <dropTable tableName="case_term" />
    </changeSet>

    <changeSet id="drop-case_term_type" author="eliseev">
        <preConditions>
            <tableExists tableName="case_term_type" />
        </preConditions>
        <dropTable tableName="case_term_type" />
    </changeSet>

    <changeSet id="drop-case_stage" author="eliseev">
        <preConditions>
            <tableExists tableName="case_stage" />
        </preConditions>
        <dropTable tableName="case_stage" />
    </changeSet>

    <changeSet id="drop-case_stage_type" author="eliseev">
        <preConditions>
            <tableExists tableName="case_stage_type" />
        </preConditions>
        <dropTable tableName="case_stage_type" />
    </changeSet>

    <changeSet id="drop-case_vroom" author="eliseev">
        <preConditions>
            <tableExists tableName="case_vroom" />
        </preConditions>
        <dropTable tableName="case_vroom" />
    </changeSet>

    <changeSet id="drop-FK_DEP_TYPE" author="eliseev">
        <preConditions>
            <foreignKeyConstraintExists foreignKeyTableName="company_dep" foreignKeyName="FK_DEP_TYPE" />
        </preConditions>
        <dropForeignKeyConstraint baseTableName="company_dep" constraintName="FK_DEP_TYPE" />
    </changeSet>

    <changeSet id="drop-department_type" author="eliseev">
        <preConditions>
            <tableExists tableName="department_type" />
        </preConditions>
        <dropTable tableName="department_type" />
    </changeSet>

    <changeSet id="drop-FK_DEVUNIT_STATE" author="eliseev">
        <preConditions>
            <foreignKeyConstraintExists foreignKeyTableName="dev_unit" foreignKeyName="FK_DEVUNIT_STATE" />
        </preConditions>
        <dropForeignKeyConstraint baseTableName="dev_unit" constraintName="FK_DEVUNIT_STATE" />
    </changeSet>

    <changeSet id="drop-dev_unit_state" author="eliseev">
        <preConditions>
            <tableExists tableName="dev_unit_state" />
        </preConditions>
        <dropTable tableName="dev_unit_state" />
    </changeSet>

    <changeSet id="drop-FK_CASE_TASK_TUNIT" author="eliseev">
        <preConditions>
            <foreignKeyConstraintExists foreignKeyTableName="case_task" foreignKeyName="FK_CASE_TASK_TUNIT" />
        </preConditions>
        <dropForeignKeyConstraint baseTableName="case_task" constraintName="FK_CASE_TASK_TUNIT" />
    </changeSet>

    <changeSet id="drop-time_unit" author="eliseev">
        <preConditions>
            <tableExists tableName="time_unit" />
        </preConditions>
        <dropTable tableName="time_unit" />
    </changeSet>

    <changeSet id="drop-sys_config" author="eliseev">
        <preConditions>
            <tableExists tableName="sys_config" />
        </preConditions>
        <dropTable tableName="sys_config" />
    </changeSet>




</databaseChangeLog>
